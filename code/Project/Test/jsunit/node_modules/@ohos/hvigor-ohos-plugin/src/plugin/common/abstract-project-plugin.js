"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractProjectPlugin=void 0;const hvigor_base_1=require("@ohos/hvigor-base"),default_plugin_id_1=require("./default-plugin-id"),assemble_app_js_1=require("../../tasks/hook/assemble/assemble-app.js"),clean_js_1=require("../../tasks/common/clean.js"),sync_project_js_1=require("../../tasks/sync/sync-project.js"),project_inspection_js_1=require("../../tasks/inspection/project-inspection.js"),task_names_js_1=require("../../tasks/common/task-names.js");var SyncTask=task_names_js_1.TaskNames.SyncTask;class AbstractProjectPlugin extends hvigor_base_1.HvigorPlugin{constructor(e){super(default_plugin_id_1.DefaultPluginId.OHOS_APP_PLUGIN),this._project=e,this._projectName=e.getName()}doRegisterTask(){this.assembleApp=new assemble_app_js_1.AssembleApp(this._project,this._taskService),this.clean=new clean_js_1.Clean(this._project,this._taskService),this.syncProject=new sync_project_js_1.SyncProject(this._project,SyncTask.syncTaskName(this._projectName)),this._project.registry(this.assembleApp),this._project.registry(this.clean),this._project.registry(this.syncProject)}doProjectInspection(){new project_inspection_js_1.ProjectInspection(this._projectModel).doInspection().exitOnError()}initTraceData(){hvigor_base_1.traceBuildAnalyze.taskTime.set("compileArkTS",0),hvigor_base_1.traceBuildAnalyze.taskTime.set("compileJS",0),hvigor_base_1.traceBuildAnalyze.taskTime.set("compileResource",0),hvigor_base_1.traceBuildAnalyze.taskTime.set("packageHap",0),hvigor_base_1.traceBuildAnalyze.taskTime.set("signHap",0)}getTaskService(){return this._taskService}}exports.AbstractProjectPlugin=AbstractProjectPlugin;