"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleEntryModulesErrors=exports.handleStartWindowErrors=exports.removeLegacyPhoneSupport=void 0;const hvigor_base_1=require("@ohos/hvigor-base"),_log=hvigor_base_1.HvigorLogger.getLogger("ValidateErrorHandlers");function removeLegacyPhoneSupport(e,r){var o,t;let n=!1;const s=null===(o=r.module)||void 0===o?void 0:o.deviceTypes,d=null===(t=r.module)||void 0===t?void 0:t.deviceType,a=void 0===s?d:s;return Array.isArray(a)?(e=e.filter((e=>{const r=e.instancePath,o=r.lastIndexOf("["),t=r.substring(o+1),s=parseInt(t);return-1===r.indexOf("deviceType")||a.indexOf("phone")!==s||(n=!0,!1)})),n&&_log.warn("Currently, the device type 'phone' is not supported in module.json5 or config.json. You are advised to change the device type to 'default'."),e):e}function handleStartWindowErrors(e){const r=["startWindowIcon","startWindowBackground"];return e.forEach((e=>{-1!==e.keyword.indexOf("required")&&r.includes(e.params.missingProperty)&&(e.solution="For help about startWindows, you can solve the problem with this FAQ.")})),e}function handleEntryModulesErrors(e){return e.forEach((e=>{"entryModules"===e.instancePath&&"minItems"===e.keyword&&(e.reason="The entryModule field cannot be empty, because a feature module must have a corresponding entry module. This might happen when an entry module was removed.",e.solution="Add a dependent entry module to this feature module.")})),e}exports.removeLegacyPhoneSupport=removeLegacyPhoneSupport,exports.handleStartWindowErrors=handleStartWindowErrors,exports.handleEntryModulesErrors=handleEntryModulesErrors;