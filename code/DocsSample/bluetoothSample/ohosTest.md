# 蓝牙示例代码工程化

## 用例表

| 测试功能          | 预置条件     | 输入              | 预期输出                  | 是否自动  | 测试结果 |
| ----------------- | ------------ | ----------------- | ------------------------|--------- | -------- |
| 应用正常启动     | 设备支持蓝牙   | 启动应用           | 进入应用界面，弹出申请蓝牙权限的弹窗 |否 | Pass      |
| 应用正常获取蓝牙权限    | 设备支持蓝牙，申请蓝牙权限的弹窗点击“允许”   | 切换到SIWITCH界面，点击打开蓝牙        | 弹出三方应用申请蓝牙权限的弹窗 |否 | Pass      |
| 应用成功打开蓝牙       | 设备支持蓝牙，蓝牙权限申请成功。   | 切换到SIWITCH界面，点击开启蓝牙，在弹窗中点击“开启”      | 设备打开蓝牙功能,上方Bluetooth State变为Connected         |否 | Pass      |
| 可以正确设置扫描的过滤参数       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开。   | 在SCAN界面，点击“设置过滤参数”，输入过滤参数，点击confirm，点击开始扫描      | 设备根据过滤参数正确过滤扫描设备 |否 | Pass      |
| 正常扫描设备       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开   | 在SCAN界面，点击开始扫描      | 设备开始扫描设备，设备Id在下方以弹窗形式显示 |否 | Pass      |
| 显示扫描到的设备      | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开   | 在SCAN界面，出现过设备Id的弹窗后，点击刷新      | 扫描到的设备信息在下方以列表形式展示 |否 | Pass     |
| 关闭扫描      | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开   | 在SCAN界面，点击开始扫描后，点击关闭扫描      | 弹出停止扫描的弹窗 |否 | Pass     |
| 连接设备       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开，已扫描到设备   | 在SCAN界面，点击下方设备列表的connect按钮      | 弹出连接成功的弹窗,设备信息开始在上方循环播放 |否 | Pass     |
| 发现服务       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开，已连接到设备   | 在GATT界面，点击发现服务按钮      | 弹出扫描到的服务内容的弹窗，并在上方文本框显示 |否 | Pass     |
| 读特征值       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开，已连接到设备   | 在GATT界面，设置过滤参数后，点击读特征值      | 弹出弹窗，显示读取结果 |否 | Pass     |
| 读描述符       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开，已连接到设备   | 在GATT界面，设置过滤参数后，点击读描述符      | 弹出弹窗，显示读取结果 |否 | Pass     |
| 写特征值       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开，已连接到设备   | 在GATT界面，设置过滤参数后，点击写特征值      | 弹出弹窗，显示写入结果 |否 | Pass     |
| 写描述符       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开，已连接到设备   | 在GATT界面，设置过滤参数后，点击写描述符      | 弹出弹窗，显示写入结果 |否 | Pass     |
| 断开连接       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开，已连接到设备   | 在GATT界面，点击断开连接      | 弹出弹窗，显示断开连接成功 |否 | Pass     |
| 注册服务       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击注册服务按钮      | 弹出弹窗，显示注册服务成功 |否 | Pass     |
| 注销服务       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击注销服务按钮      | 弹出弹窗，显示注销服务成功 |否 | Pass     |
| 订阅读特征值       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击订阅读特征值按钮      | 弹出弹窗，显示订阅读特征值成功 |否 | Pass     |
| 订阅写特征值       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击订阅写特征值按钮      | 弹出弹窗，显示订阅写特征值成功 |否 | Pass     |
| 订阅读描述符       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击订阅读描述符按钮      | 弹出弹窗，显示订阅读描述符成功 |否 | Pass     |
| 订阅写描述符       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击订阅写描述符按钮      | 弹出弹窗，显示订阅写描述符成功 |否 | Pass     |
| 设置广播内容       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击设置广播内容按钮      | 弹出参数弹窗，输入信息设置广播内容 |否 | Pass     |
| 开始广播       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击开始广播按钮      | 弹出弹窗，提示开始广播 |否 | Pass     |
| 暂停广播       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击暂停广播按钮      | 弹出弹窗，提示暂停广播 |否 | Pass     |
| 继续广播       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击继续广播按钮      | 弹出弹窗，提示继续广播 |否 | Pass     |
| 停止广播       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在ADVERISER界面，点击停止广播按钮      | 弹出弹窗，提示停止广播 |否 | Pass     |
| 关闭蓝牙       | 设备支持蓝牙，蓝牙权限申请成功，蓝牙已打开               | 在SWITCH界面，点击关闭蓝牙按钮      | 设备关闭蓝牙，上方BlueTooth State变为 Disconnected |否 | Pass     |
