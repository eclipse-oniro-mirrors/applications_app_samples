# 文件并行化处理场景测试用例

## 用例表

| 测试功能                              | 预置条件                                | 输入                   | 预期输出                               | 是否自动 | 测试结果 |
|-----------------------------------|-------------------------------------|----------------------|------------------------------------|------|------|
|压缩模式选择"自动模式"，查看图片压缩效果 | 1. 需在真机测试 <br/> 2. 构建并安装测试hap <br/> 3.进入【图片压缩方案】| 1、压缩模式选择"自动模式"，输入图片压缩目标大小，"scale每次缩小倍数"，点击"压缩"按钮 | 1、在"压缩后"下方显示压缩后的图片大小，格式，尺寸，图片大小不超过"图片压缩目标大小"，"scale每次缩小倍数"值设置越低，更接近图片压缩目标大小 | 否    | Pass |
| 压缩模式选择"手动模式"，查看压缩效果 | 1. 需在真机测试 <br/> 2. 构建并安装测试hap <br/> 3.进入【图片压缩方案】| 1、压缩模式选择"手动模式"，设置"图片质量"，"图片尺寸"，点击压缩按钮 |1、在"压缩后"下方显示压缩后的图片大小，格式，尺寸， “图片质量”值设置越低，图片越不清晰；“图片尺寸”值设置越低，图片尺寸越小 | 否    | Pass |
| 查看设置"压缩偏好"选项后，压缩功能是否正常 | 1. 需在真机测试 <br/> 2. 构建并安装测试hap <br/> 3.进入【图片压缩方案】| 1、选择“优先压缩质量” <br/> 2、选择“优先压缩尺寸” <br/> 3、点击压缩按钮 | 1、“packing最小二分单位”滑块可以正常滑动，“最低图片质量”滑块不可滑动 <br/> 2、“packing最小二分单位”滑块不可滑动，“最低图片质量”滑块可以滑动 <br/> 3、在"压缩后"下方显示压缩后的图片大小，格式，尺寸| 否    | Pass |
| 选择不同的"输出格式"，查看压缩后的图片格式 | 1. 需在真机测试 <br/> 2. 构建并安装测试hap <br/> 3.进入【图片压缩方案】| 1、选择“原格式”，点击压缩按钮 <br/> 2、选择“PNG”，点击压缩按钮 <br/> 3、选择“JPG”，点击压缩按钮 <br/> 4、选择“WEBP”，点击压缩按钮 | 1、压缩后的图片和压缩前图片格式一致 <br/> 2、压缩后的图片格式为PNG格式 <br/> 3、压缩后的图片格式为JPG格式 <br/> 4、压缩后的图片格式为WEBP格式 | 否    | Pass |
| 下载文件是否正常 | 1. 需在真机测试 <br/> 2. 构建并安装测试hap <br/> 3.进入【多文件下载监听案例】| 1、点击“全部开始” <br/> 2、点击“全部暂停” <br/> 3、点击“全部开始” <br/> 4、等待下载完成后，查看下载的文件是否保存在应用缓存路径下（手工可用hdc shell cd /data/app/el2/100/base/com.example.helloworld/haps/entry/cache） | 1、下载队列中两个任务能正常下载 <br/> 2、下载队列中正在下载的任务被暂停了 <br/> 3、下载任务重新恢复下载 <br/> 4、下载完成后，在案例应用缓存路径下可以找到下载的文件：favor_list_tea.png favor_list_tree.png | 否    | Pass |
| 在下载历史中把已删除的文件重新下载 | 1. 需在真机测试 <br/> 2. 构建并安装测试hap <br/> 3.进入【多文件下载监听案例】| 1、点击已下载文件 <br/> 2、点击“删除” <br/> 3、点击已删除文件 <br/> 4、点击“确认”| 1、弹出“文件已存在”toast <br/> 2、文件被删除样式发生变化且在案例应用缓存路径下不能找到已删除的文件 <br/> 3、弹出“xxx文件已被删除，是否重新下载”的弹窗提示 <br/> 4、文件重新下载 | 否    | Pass |