import { OhosHapTask } from '../task/ohos-hap-task.js';
import { TargetTaskService } from '../service/target-task-service.js';
import { FileSet } from '@ohos/hvigor-base/src/internal/snapshot/util/file-set.js';
import { TaskInputValue } from '@ohos/hvigor-base/src/internal/snapshot/util/task-input-value-entry.js';
/**
 * 老模型的打包Hap包任务
 *
 * @since 2022/1/10
 */
export declare class LegacyPackageHap extends OhosHapTask {
    private _log;
    private readonly needPackBin;
    private readonly packageTool;
    private readonly binPath;
    private readonly binOutPath;
    private readonly libPath;
    private readonly assetsPath;
    private readonly rpcidSc;
    private readonly dexPath;
    private readonly apkPath;
    private readonly hapBinCommand;
    private readonly allJsonPath;
    private readonly allResourcePath;
    private readonly allIndexPath;
    private readonly allPackInfoPath;
    private readonly allOutPath;
    private readonly allShellApkPath;
    private syscapJsonPath;
    declareExecutionTool(): string;
    declareExecutionCommand(): string;
    declareInputs(): Map<string, TaskInputValue>;
    declareInputFiles(): FileSet;
    declareOutputFiles(): FileSet;
    constructor(taskService: TargetTaskService);
    initTaskDepends(): void;
    protected doTaskAction(): void;
    private buildHapBuilder;
    private buildHapPackageOptions;
    private buildHapBinBuilder;
    /**
     * 获得打包hap的命令
     *
     * @param jsonPath config.json路径
     * @param resourcePath 资源路径
     * @param indexPath resources.index路径
     * @param packInfoPath pack.info路径
     * @param outPath hap输出路径
     * @param shellApkPath shell apk路径
     * @returns {string[]} 生成的命令
     */
    private getHapCommand;
    /**
     * 获得打包hap bin的命令
     *
     * @returns {string[]} 生成的命令
     */
    private getHapBinCommand;
    /**
     * 执行命令
     *
     * @param command 需要执行的命令
     */
    private executeCommandList;
    /**
     * 获取shell的apk路径
     *
     * @param apkDir apk中间目录
     * @param entryTarget entry模块target数据
     * @returns {string[]} shell的apk路径
     */
    private getShellApkPath;
}
